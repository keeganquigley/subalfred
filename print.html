<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js ayu">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Subalfred Book</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "ayu" : "ayu";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../../index.html">Introduction</a></li><li class="chapter-item expanded affix "><li class="part-title">User Guide</li><li class="chapter-item expanded "><a href="user/installation.html"><strong aria-hidden="true">1.</strong> Installation</a></li><li class="chapter-item expanded "><a href="user/cli/index.html"><strong aria-hidden="true">2.</strong> Command Line Tool</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="user/cli/check.html"><strong aria-hidden="true">2.1.</strong> check</a></li><li class="chapter-item expanded "><a href="user/cli/convert.html"><strong aria-hidden="true">2.2.</strong> convert</a></li><li class="chapter-item expanded "><a href="user/cli/get.html"><strong aria-hidden="true">2.3.</strong> get</a></li><li class="chapter-item expanded "><a href="user/cli/hash.html"><strong aria-hidden="true">2.4.</strong> hash</a></li><li class="chapter-item expanded "><a href="user/cli/key.html"><strong aria-hidden="true">2.5.</strong> key</a></li><li class="chapter-item expanded "><a href="user/cli/state.html"><strong aria-hidden="true">2.6.</strong> state</a></li><li class="chapter-item expanded "><a href="user/cli/storage-key.html"><strong aria-hidden="true">2.7.</strong> storage-key</a></li><li class="chapter-item expanded "><a href="user/cli/workspace.html"><strong aria-hidden="true">2.8.</strong> workspace</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Reference Guide</li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.</strong> todo</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">3.1.</strong> todo</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.2.</strong> todo</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.3.</strong> todo</div></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu (default)</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Subalfred Book</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/hack-ink/subalfred/tree/main/doc" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <div align="center">
<!-- Logo -->
<!-- ![Subalfred]() -->
<h1 id="subalfred"><a class="header" href="#subalfred"><a href="https://github.com/hack-ink/subalfred">Subalfred</a></a></h1>
<h3 id="an-all-in-one-substrate-development-toolbox"><a class="header" href="#an-all-in-one-substrate-development-toolbox">An All-In-One <a href="https://github.com/paritytech/substrate">Substrate</a> Development Toolbox.</a></h3>
<p><a href="https://www.gnu.org/licenses/gpl-3.0"><img src="https://img.shields.io/badge/License-GPLv3-blue.svg" alt="License" /></a>
<a href="https://github.com/hack-ink/subalfred/actions/workflows/checks.yml"><img src="https://github.com/hack-ink/subalfred/actions/workflows/checks.yml/badge.svg?branch=main" alt="Checks" /></a>
<a href="https://github.com/hack-ink/subalfred/actions/workflows/release.yml"><img src="https://github.com/hack-ink/subalfred/actions/workflows/release.yml/badge.svg" alt="Release" /></a>
<a href="https://github.com/hack-ink/subalfred/tags"><img src="https://img.shields.io/github/v/tag/hack-ink/subalfred" alt="GitHub tag (latest by date)" /></a>
<a href="https://github.com/hack-ink/subalfred"><img src="https://tokei.rs/b1/github/hack-ink/subalfred" alt="GitHub code lines" /></a>
<a href="https://github.com/hack-ink/subalfred"><img src="https://img.shields.io/github/last-commit/hack-ink/subalfred?color=red&amp;style=plastic" alt="GitHub last commit" /></a></p>
<p><a href="https://github.com/hack-ink/subalfred/pulse"><img src="https://repobeats.axiom.co/api/embed/acdcdaf322ac3f7e821eb71a6985b14ec57e5c44.svg" alt="Subalfred" title="Repobeats analytics image" /></a></p>
</div>
<h2 id="philosophies"><a class="header" href="#philosophies">Philosophies</a></h2>
<ul>
<li><em><strong>Lighting fast</strong></em></li>
<li><em><strong>Less dependencies</strong></em></li>
<li><em><strong>No <code>unsafe {}</code>, <code>.unwrap()</code></strong></em></li>
<li><em><strong>Easy to use</strong></em></li>
<li><em><strong>Strive for excellence</strong></em></li>
</ul>
<h2 id="documentations"><a class="header" href="#documentations">Documentations</a></h2>
<pre><code class="language-sh"># Use `--help` flag to get more information.
subalfred --help
# Each subcommand also provides its own `--help`.
subalfred check --help
subalfred check runtime --help
</code></pre>
<ul>
<li><a href="https://subalfred.hack.ink"><code>subalfred.hack.ink</code></a></li>
<li><a href="https://hack-ink.github.io"><code>hack-ink.github.io (backup)</code></a></li>
</ul>
<h2 id="contribution"><a class="header" href="#contribution">Contribution</a></h2>
<ul>
<li>If you have a question or request a new feature, <a href="https://github.com/hack-ink/subalfred/discussions/new">start a discussion</a>.</li>
<li>If you encounter any bugs, <a href="https://github.com/hack-ink/subalfred/issues/new">report an issue</a>.</li>
<li>Otherwise, PRs are always welcome!</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installation"><a class="header" href="#installation">Installation</a></h1>
<p>There are multiple ways to install the <code>subalfred</code> CLI tool.
Choose any one of the methods below that best suit your needs.</p>
<h2 id="pre-built-binaries"><a class="header" href="#pre-built-binaries">Pre-built Binaries</a></h2>
<ol>
<li>Download it from the <a href="https://github.com/hack-ink/subalfred/releases">GitHub Releases page</a>.</li>
<li>Uncompress the downloaded file.</li>
<li>Rename it to whatever you like. (<em>optional</em>)</li>
<li>Give the execution privilege to it.</li>
</ol>
<p>The compressing algorithm is <a href="https://github.com/facebook/zstd/releases">zstd</a>.
For some systems, you might need to install <a href="https://github.com/facebook/zstd/releases">zstd</a> first.
For <em>Windows</em> users, you would like to rename the extracted content name to <code>subalfred.exe</code>.</p>
<p>Use <code>subalfred-aarch64-apple-darwin.zst</code> as an example.</p>
<ul>
<li>One line command:
<pre><code class="language-sh">curl -L https://github.com/hack-ink/subalfred/releases/latest/download/subalfred-aarch64-apple-darwin.zst | zstd -o subalfred -d &amp;&amp; chmod u+x subalfred
</code></pre>
</li>
<li>Multi-lines command:
<pre><code class="language-sh">curl -LO https://github.com/hack-ink/subalfred/releases/latest/download/subalfred-aarch64-apple-darwin.zst
zstd -o subalfred -d
chmod u+x subalfred
</code></pre>
</li>
</ul>
<p>Available pre-built binaries list.</p>
<ul>
<li><code>subalfred-aarch64-apple-darwin.zst</code></li>
<li><code>subalfred-x86_64-apple-darwin.zst</code></li>
<li><code>subalfred-x86_64-pc-windows-msvc.zst</code></li>
<li><code>subalfred-x86_64-unknown-linux-gnu.zst</code></li>
</ul>
<h2 id="build-from-source"><a class="header" href="#build-from-source">Build from Source</a></h2>
<p>To build <code>subalfred</code> from source, you will first need to install <a href="https://rustup.rs">Rust</a>.
Once you have installed <a href="https://rustup.rs">Rust</a>, the following command can be used to build and install <code>subalfred</code>:</p>
<ul>
<li>Build from crates.io:
<pre><code class="language-sh">cargo install subalfred
</code></pre>
</li>
<li>Build from the latest main branch code:
<pre><code class="language-sh">cargo install subalfred --git https://github.com/hack-ink/subalfred
</code></pre>
</li>
</ul>
<p>This will automatically download <code>subalfred</code> from <a href="https://crates.io">crates.io</a>/<a href="https://github.com/hack-ink/subalfred">github.com</a>, build it, and install it in Cargo's global binary directory (<code>~/.cargo/bin/</code> by default).</p>
<p>The version published to <a href="https://crates.io">crates.io</a> will ever so slightly be behind the version hosted on <a href="https://github.com/hack-ink/subalfred">github.com</a>.
If you need the latest version you can build the git version of <code>subalfred</code> yourself.
Cargo makes this <em><strong>super easy</strong></em>!</p>
<p>To uninstall, run the command <code>cargo uninstall subalfred</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="command-line-tool"><a class="header" href="#command-line-tool">Command Line Tool</a></h1>
<p>The <code>subalfred</code> command-line tool is used to create and build books.
After you have <a href="user/cli/../installation.html">installed</a> <code>subalfred</code>, you can run the <code>subalfred help</code> command in your terminal to view the available commands.</p>
<p>This following sections provide in-depth information on the different commands available.</p>
<ul>
<li><a href="user/cli/check.html"><code>subalfred check</code></a></li>
<li><a href="user/cli/convert.html"><code>subalfred convert</code></a></li>
<li><a href="user/cli/get.html"><code>subalfred get</code></a></li>
<li><a href="user/cli/hash.html"><code>subalfred hash</code></a></li>
<li><a href="user/cli/key.html"><code>subalfred key</code></a></li>
<li><a href="user/cli/state.html"><code>subalfred state</code></a></li>
<li><a href="user/cli/storage-key.html"><code>subalfred storage-key</code></a></li>
<li><a href="user/cli/workspace.html"><code>subalfred workspace</code></a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="the-check-command"><a class="header" href="#the-check-command">The Check Command</a></h1>
<p>Currently, there are two subcommands available.</p>
<h2 id="runtime"><a class="header" href="#runtime">Runtime</a></h2>
<p>As the name says, the checks are on the runtime level.</p>
<p>There are three shared options:</p>
<ul>
<li><code>--chain &lt;NAME&gt;</code>The chain name, which will supply to the executable.</li>
<li><code>--executable &lt;PATH&gt;</code> The executable path.</li>
<li><code>--live &lt;URI&gt;</code> The live chain's HTTP RPC endpoint.</li>
</ul>
<p>And there are two properties to check, <code>storage</code> and <code>version</code>.</p>
<h3 id="examples"><a class="header" href="#examples">Examples</a></h3>
<p>For convenience, I use the <a href="https://github.com/darwinia-network/darwinia-common">Pangolin Network</a> to demonstrate.</p>
<ul>
<li><code>pangolin-dev</code> is the dev chain spec, which means its genesis is built from the latest code.
If you are on Polkadot, then use <code>polkadot-dev</code>.</li>
<li><code>./drml</code> is the path to my local pangolin node executable.</li>
<li><code>https://pangolin-rpc.darwinia.network</code> is the Pangoro live chain's HTTP RPC endpoint.
Note that, I use the Pangoro here. Just because I'm doing a demonstration.
Compare with two different chains' runtime storage/version will get a lot of output.</li>
</ul>
<h4 id="check-runtime-storage"><a class="header" href="#check-runtime-storage">Check Runtime Storage</a></h4>
<pre><code class="language-sh">subalfred check runtime --chain pangolin-dev --executable ./drml --live https://pangoro-rpc.darwinia.network --property storage
</code></pre>
<pre><code class="language-diff">+ Pallet: &quot;Bounties&quot;
- Pallet: &quot;BridgePangolinGrandpa&quot;
- Pallet: &quot;BridgePangolinMessages&quot;
+ Pallet: &quot;BridgePangolinParachainMessages&quot;
+ Pallet: &quot;BridgePangoroGrandpa&quot;
+ Pallet: &quot;BridgePangoroMessages&quot;
+ Pallet: &quot;BridgeRococoGrandpa&quot;
+ Pallet: &quot;BridgeRococoParachains&quot;
+ Pallet: &quot;Council&quot;
+ Pallet: &quot;DarwiniaEthereumRelay&quot;
+ Pallet: &quot;Democracy&quot;
+ Pallet: &quot;EcdsaRelayAuthority&quot;
+ Pallet: &quot;EthereumBacking&quot;
+ Pallet: &quot;HeaderMmr&quot;
+ Pallet: &quot;Identity&quot;
+ Pallet: &quot;Instance1DarwiniaRelayerGame&quot;
+ Pallet: &quot;KtonTreasury&quot;
+ Pallet: &quot;Multisig&quot;
- Pallet: &quot;PangolinFeeMarket&quot;
+ Pallet: &quot;PangolinParachainFeeMarket&quot;
+ Pallet: &quot;PangoroFeeMarket&quot;
+ Pallet: &quot;PhragmenElection&quot;
+ Pallet: &quot;Proxy&quot;
+ Pallet: &quot;Recovery&quot;
+ Pallet: &quot;Society&quot;
- Pallet: &quot;Substrate2SubstrateBacking&quot;
+ Pallet: &quot;Substrate2SubstrateIssuing&quot;
+ Pallet: &quot;TechnicalCommittee&quot;
+ Pallet: &quot;TechnicalMembership&quot;
+ Pallet: &quot;Tips&quot;
+ Pallet: &quot;ToPangolinParachainBacking&quot;
+ Pallet: &quot;Vesting&quot;

Pallet ElectionProviderMultiPhase
+ Entry: StorageEntryMetadata { name: &quot;SignedSubmissionsMap&quot;, modifier: Default, ty: Map { hashers: [Twox64Concat], key: UntrackedSymbol { id: 4, marker: PhantomData }, value: UntrackedSymbol { id: 227, marker: PhantomData } }, default: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], docs: [&quot; Unchecked, signed solutions.&quot;, &quot;&quot;, &quot; Together with `SubmissionIndices`, this stores a bounded set of `SignedSubmissions` while&quot;, &quot; allowing us to keep only a single one in memory at a time.&quot;, &quot;&quot;, &quot; Twox note: the key of the map is an auto-incrementing index which users cannot inspect or&quot;, &quot; affect; we shouldn't need a cryptographically secure hasher.&quot;] }
- Entry: StorageEntryMetadata { name: &quot;SignedSubmissionsMap&quot;, modifier: Default, ty: Map { hashers: [Twox64Concat], key: UntrackedSymbol { id: 4, marker: PhantomData }, value: UntrackedSymbol { id: 186, marker: PhantomData } }, default: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], docs: [&quot; Unchecked, signed solutions.&quot;, &quot;&quot;, &quot; Together with `SubmissionIndices`, this stores a bounded set of `SignedSubmissions` while&quot;, &quot; allowing us to keep only a single one in memory at a time.&quot;, &quot;&quot;, &quot; Twox note: the key of the map is an auto-incrementing index which users cannot inspect or&quot;, &quot; affect; we shouldn't need a cryptographically secure hasher.&quot;] }

Pallet Scheduler
+ Entry: StorageEntryMetadata { name: &quot;Agenda&quot;, modifier: Default, ty: Map { hashers: [Twox64Concat], key: UntrackedSymbol { id: 4, marker: PhantomData }, value: UntrackedSymbol { id: 609, marker: PhantomData } }, default: [0], docs: [&quot; Items to be executed, indexed by the block number that they should be executed on.&quot;] }
- Entry: StorageEntryMetadata { name: &quot;Agenda&quot;, modifier: Default, ty: Map { hashers: [Twox64Concat], key: UntrackedSymbol { id: 4, marker: PhantomData }, value: UntrackedSymbol { id: 378, marker: PhantomData } }, default: [0], docs: [&quot; Items to be executed, indexed by the block number that they should be executed on.&quot;] }

Pallet Session
+ Entry: StorageEntryMetadata { name: &quot;NextKeys&quot;, modifier: Optional, ty: Map { hashers: [Twox64Concat], key: UntrackedSymbol { id: 0, marker: PhantomData }, value: UntrackedSymbol { id: 347, marker: PhantomData } }, default: [0], docs: [&quot; The next session keys for a validator.&quot;] }
- Entry: StorageEntryMetadata { name: &quot;NextKeys&quot;, modifier: Optional, ty: Map { hashers: [Twox64Concat], key: UntrackedSymbol { id: 0, marker: PhantomData }, value: UntrackedSymbol { id: 282, marker: PhantomData } }, default: [0], docs: [&quot; The next session keys for a validator.&quot;] }
+ Entry: StorageEntryMetadata { name: &quot;QueuedKeys&quot;, modifier: Default, ty: Plain(UntrackedSymbol { id: 345, marker: PhantomData }), default: [0], docs: [&quot; The queued keys for the next session. When the next session begins, these keys&quot;, &quot; will be used to determine the validator's session keys.&quot;] }
- Entry: StorageEntryMetadata { name: &quot;QueuedKeys&quot;, modifier: Default, ty: Plain(UntrackedSymbol { id: 280, marker: PhantomData }), default: [0], docs: [&quot; The queued keys for the next session. When the next session begins, these keys&quot;, &quot; will be used to determine the validator's session keys.&quot;] }

Pallet System
+ Entry: StorageEntryMetadata { name: &quot;Events&quot;, modifier: Default, ty: Plain(UntrackedSymbol { id: 15, marker: PhantomData }), default: [0], docs: [&quot; Events deposited for the current block.&quot;, &quot;&quot;, &quot; NOTE: This storage item is explicitly unbounded since it is never intended to be read&quot;, &quot; from within the runtime.&quot;] }
- Entry: StorageEntryMetadata { name: &quot;Events&quot;, modifier: Default, ty: Plain(UntrackedSymbol { id: 15, marker: PhantomData }), default: [0], docs: [&quot; Events deposited for the current block.&quot;, &quot;&quot;, &quot; NOTE: This storage item is explicitly unbounded since it is never intended to be read&quot;, &quot; from within the runtime.&quot;] }
</code></pre>
<h4 id="check-runtime-version"><a class="header" href="#check-runtime-version">Check Runtime Version</a></h4>
<pre><code class="language-sh">subalfred check runtime --chain pangolin-dev --executable ./drml --live https://pangoro-rpc.darwinia.network --property version
</code></pre>
<pre><code class="language-diff">RuntimeVersion {
-   spec_name: &quot;Pangoro&quot;,
+   spec_name: &quot;Pangolin&quot;,
-   impl_name: &quot;Pangoro&quot;,
+   impl_name: &quot;Pangolin&quot;,
    authoring_version: 0,
    spec_version: 29020,
    impl_version: 0,
    transaction_version: 0,
}
</code></pre>
<h2 id="features"><a class="header" href="#features">Features</a></h2>
<p>You could check if all your runtime features' were enabled correctly in one command.</p>
<h3 id="episode-1"><a class="header" href="#episode-1">Episode 1</a></h3>
<p>As we know Substrate has two runtime ENVs, native and WASM.</p>
<p>If a runtime dependency is not pure no-std, we need to write:</p>
<pre><code class="language-toml">[features]
std = [&quot;xxx/std&quot;]

[dependencies]
xxx = { version = &quot;0.1.0&quot;, default-features = false }
</code></pre>
<p>Sometimes, we might forget to write add the <code>xxx/std</code>.</p>
<p>Recently, I found someone have the same <a href="https://github.com/paritytech/substrate/pull/11715">requirement</a>.</p>
<p>So, I decide to make this public.</p>
<h3 id="episode-2"><a class="header" href="#episode-2">Episode 2</a></h3>
<p>As time passed, more and more features were added to Substrate.</p>
<p>We have <code>std</code>, <code>runtime-benchmarks</code> and <code>try-runtime</code> now.</p>
<p>It's hard to check if all features are enabled correctly.</p>
<h3 id="examples-1"><a class="header" href="#examples-1">Examples</a></h3>
<blockquote>
<p>Testing commit <a href="https://github.com/paritytech/polkadot/commit/0fd106c04e5f57f6342f8e000d471d0f819f7b61">paritytech/polkadot@<code>0fd106c</code></a></p>
</blockquote>
<pre><code class="language-sh">git clone https://github.com/paritytech/polkadot /tmp/paritytech/polkadot
subalfred check features --manifest-path /tmp/paritytech/polkadot/runtime/polkadot -ltrace
</code></pre>
<pre><code>checking: /tmp/paritytech/polkadot/runtime/polkadot/Cargo.toml
2022-10-22T06:10:58.626261Z TRACE subalfred_core::check::features: check std takes 0.000408458 secs
2022-10-22T06:10:58.626636Z TRACE subalfred_core::check::features: check runtime-benchmarks takes 0.000177708 secs
2022-10-22T06:10:58.626764Z TRACE subalfred_core::check::features: check try-runtime takes 0.0001255 secs
`std` of `frame-benchmarking` was omitted
`std` of `pallet-election-provider-support-benchmarking` was omitted
`std` of `polkadot-primitives` was omitted
`std` of `polkadot-runtime-common` was omitted
`std` of `polkadot-runtime-parachains` was omitted
`std` of `serde_json` was omitted
`std` of `sp-authority-discovery` was omitted
`std` of `sp-block-builder` was omitted
`std` of `sp-consensus-babe` was omitted
`std` of `sp-inherents` was omitted
`std` of `sp-io` was omitted
`std` of `sp-offchain` was omitted
`std` of `sp-tracing` was omitted
`std` of `sp-transaction-pool` was omitted
`std` of `sp-trie` was omitted
`runtime-benchmarks` of `polkadot-primitives` was omitted
`runtime-benchmarks` of `polkadot-runtime-common` was omitted
`runtime-benchmarks` of `polkadot-runtime-parachains` was omitted
`runtime-benchmarks` of `sp-staking` was omitted
`runtime-benchmarks` of `xcm-executor` was omitted
`try-runtime` of `frame-support` was omitted
`try-runtime` of `polkadot-runtime-common` was omitted
`try-runtime` of `polkadot-runtime-parachains` was omitted
</code></pre>
<h2 id="ci"><a class="header" href="#ci">CI</a></h2>
<p>Moreover, we can add the checks into your project CI.</p>
<p>I've already add these to the <a href="https://github.com/darwinia-network/darwinia/blob/v0.12.3/.github/workflows/ci.yml">Darwinia CI</a>.
And here is a real world <a href="https://github.com/darwinia-network/darwinia/pull/940#issuecomment-1226917895">example</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="the-convert-command"><a class="header" href="#the-convert-command">The Convert Command</a></h1>
<p>A set of really useful convertors.</p>
<h2 id="ascii-to-hex"><a class="header" href="#ascii-to-hex">Ascii to Hex</a></h2>
<p>Convert the ascii to hex.</p>
<h3 id="examples-2"><a class="header" href="#examples-2">Examples</a></h3>
<pre><code class="language-sh">subalfred convert ascii2hex AurevoirXavier
</code></pre>
<pre><code>0x41757265766f6972586176696572
</code></pre>
<h2 id="bytes-style"><a class="header" href="#bytes-style">Bytes Style</a></h2>
<p>Convert the bytes between several different styles.</p>
<h3 id="examples-3"><a class="header" href="#examples-3">Examples</a></h3>
<h4 id="from-vec-string-to-byte-string-literal"><a class="header" href="#from-vec-string-to-byte-string-literal">From Vec String to Byte String Literal</a></h4>
<pre><code class="language-sh">subalfred convert bytes-style --from vec-string --to byte-string-literal &quot;[65, 117, 114, 101, 118, 111, 105, 114, 88, 97, 118, 105, 101, 114]&quot;
</code></pre>
<pre><code>AurevoirXavier
</code></pre>
<pre><code class="language-sh">subalfred convert bytes-style --from vec-string --to byte-string-literal &quot;[1, 1, 1, 1]&quot;
</code></pre>
<pre><code>\x01\x01\x01\x01
</code></pre>
<h4 id="from-byte-string-literal-to-vec-string"><a class="header" href="#from-byte-string-literal-to-vec-string">From Byte String Literal to Vec String</a></h4>
<pre><code class="language-sh">subalfred convert bytes-style --from byte-string-literal --to vec-string &quot;AurevoirXavier&quot;
</code></pre>
<pre><code>[65, 117, 114, 101, 118, 111, 105, 114, 88, 97, 118, 105, 101, 114]
</code></pre>
<pre><code class="language-sh">subalfred convert bytes-style --from byte-string-literal --to vec-string &quot;\x01\x01\x01\x01&quot;
</code></pre>
<pre><code>[1, 1, 1, 1]
</code></pre>
<h2 id="bytes-to-hex"><a class="header" href="#bytes-to-hex">Bytes to Hex</a></h2>
<p>Convert the bytes to hex.</p>
<h3 id="examples-4"><a class="header" href="#examples-4">Examples</a></h3>
<pre><code class="language-sh">subalfred convert bytes2hex &quot;[65, 117, 114, 101, 118, 111, 105, 114, 88, 97, 118, 105, 101, 114]&quot;
</code></pre>
<pre><code>0x41757265766f6972586176696572
</code></pre>
<h2 id="hex-to-bytes"><a class="header" href="#hex-to-bytes">Hex to Bytes</a></h2>
<p>Convert the hex to bytes.</p>
<h3 id="examples-5"><a class="header" href="#examples-5">Examples</a></h3>
<pre><code class="language-sh">subalfred convert hex2bytes 0x41757265766f6972586176696572
</code></pre>
<pre><code>[65, 117, 114, 101, 118, 111, 105, 114, 88, 97, 118, 105, 101, 114]
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="the-get-command"><a class="header" href="#the-get-command">The Get Command</a></h1>
<p>Currently, there's only one subcommand available.</p>
<h2 id="runtime-upgrade-block"><a class="header" href="#runtime-upgrade-block">Runtime Upgrade Block</a></h2>
<p>The original question was from <a href="https://substrate.stackexchange.com/questions/3861/how-do-you-tell-which-block-number-the-last-runtime-upgrade-happened-on-a-chain">stackexchange</a>.</p>
<p>Yep, I think that is an interesting question.
So, I implemented this method.</p>
<p>It uses dichotomy algorithm, the whole process takes:</p>
<p>$$\log_{2} BlockHeight\times Requests$$</p>
<h3 id="examples-6"><a class="header" href="#examples-6">Examples</a></h3>
<pre><code class="language-sh">subalfred get runtime-upgrade-block 9100 --uri wss://rpc.polkadot.io -lsubalfred_core::node
</code></pre>
<pre><code class="language-log">2022-08-27T13:58:07.684200Z TRACE subalfred_core::node: (0, 11788056) -&gt; 9050
2022-08-27T13:58:09.469688Z TRACE subalfred_core::node: (5894028, 11788056) -&gt; 9151
2022-08-27T13:58:10.874493Z TRACE subalfred_core::node: (5894028, 8841042) -&gt; 9110
2022-08-27T13:58:11.852626Z TRACE subalfred_core::node: (5894028, 7367535) -&gt; 9080
2022-08-27T13:58:12.916960Z TRACE subalfred_core::node: (6630782, 7367535) -&gt; 9090
2022-08-27T13:58:13.126836Z TRACE subalfred_core::node: (6999158, 7367535) -&gt; 9090
2022-08-27T13:58:14.591213Z TRACE subalfred_core::node: (7183346, 7367535) -&gt; 9110
2022-08-27T13:58:14.800144Z TRACE subalfred_core::node: (7183346, 7275440) -&gt; 9110
2022-08-27T13:58:15.921005Z TRACE subalfred_core::node: (7183346, 7229393) -&gt; 9090
2022-08-27T13:58:18.036717Z TRACE subalfred_core::node: (7206370, 7229393) -&gt; 9090
2022-08-27T13:58:18.993673Z TRACE subalfred_core::node: (7217881, 7229393) -&gt; 9100
2022-08-27T13:58:19.208425Z TRACE subalfred_core::node: (7217881, 7223637) -&gt; 9100
2022-08-27T13:58:19.415621Z TRACE subalfred_core::node: (7217881, 7220759) -&gt; 9100
2022-08-27T13:58:19.624220Z TRACE subalfred_core::node: (7217881, 7219320) -&gt; 9100
2022-08-27T13:58:19.828821Z TRACE subalfred_core::node: (7217881, 7218601) -&gt; 9100
2022-08-27T13:58:20.035127Z TRACE subalfred_core::node: (7217881, 7218241) -&gt; 9100
2022-08-27T13:58:20.240336Z TRACE subalfred_core::node: (7217881, 7218061) -&gt; 9100
2022-08-27T13:58:20.444889Z TRACE subalfred_core::node: (7217881, 7217971) -&gt; 9100
2022-08-27T13:58:21.594894Z TRACE subalfred_core::node: (7217881, 7217926) -&gt; 9090
2022-08-27T13:58:24.625042Z TRACE subalfred_core::node: (7217904, 7217926) -&gt; 9100
2022-08-27T13:58:24.824345Z TRACE subalfred_core::node: (7217904, 7217915) -&gt; 9100
2022-08-27T13:58:25.030852Z TRACE subalfred_core::node: (7217904, 7217910) -&gt; 9100
2022-08-27T13:58:26.058492Z TRACE subalfred_core::node: (7217904, 7217907) -&gt; 9090
2022-08-27T13:58:26.275470Z TRACE subalfred_core::node: (7217906, 7217907) -&gt; 9090
7217907 0x8f10de9e6dcf190dccc90f464a8aa4448c9b080746d8e905bb0e4841fef80fdd
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="the-hash-command"><a class="header" href="#the-hash-command">The Hash Command</a></h1>
<p>Hash the data with the specify algorithm.</p>
<p>Available algorithms:</p>
<ul>
<li>blake2-128</li>
<li>blake2-128-concat (default)</li>
<li>blake2-256</li>
<li>blake2-512</li>
<li>twox64</li>
<li>twox64-concat</li>
<li>twox128</li>
<li>twox256</li>
<li>keccak256</li>
<li>keccak512</li>
<li>sha2-256</li>
</ul>
<h2 id="examples-7"><a class="header" href="#examples-7">Examples</a></h2>
<h3 id="blake2-128-concat-default"><a class="header" href="#blake2-128-concat-default">blake2-128-concat (Default)</a></h3>
<pre><code class="language-sh">subalfred hash 0xb4f7f03bebc56ebe96bc52ea5ed3159d45a0ce3a8d7f082983c33ef133274747
</code></pre>
<pre><code>0xe58b08eb4646f23e89bde2676c8e1feeb4f7f03bebc56ebe96bc52ea5ed3159d45a0ce3a8d7f082983c33ef133274747
</code></pre>
<h3 id="blake2-128"><a class="header" href="#blake2-128">blake2-128</a></h3>
<pre><code class="language-sh">subalfred hash --hasher blake2-128 0xb4f7f03bebc56ebe96bc52ea5ed3159d45a0ce3a8d7f082983c33ef133274747
</code></pre>
<pre><code>0xe58b08eb4646f23e89bde2676c8e1fee
</code></pre>
<h3 id="blake2-256"><a class="header" href="#blake2-256">blake2-256</a></h3>
<pre><code class="language-sh">subalfred hash --hasher blake2-256 0xb4f7f03bebc56ebe96bc52ea5ed3159d45a0ce3a8d7f082983c33ef133274747
</code></pre>
<pre><code>0x83aa9248019a972a674ada58cfcb6b0dc85cc94c90691b1e93d3e71ded507d32
</code></pre>
<h3 id="blake2-512"><a class="header" href="#blake2-512">blake2-512</a></h3>
<pre><code class="language-sh">subalfred hash --hasher blake2-512 0xb4f7f03bebc56ebe96bc52ea5ed3159d45a0ce3a8d7f082983c33ef133274747
</code></pre>
<pre><code>0x7068368532a7b4a4dedf9994bfe584e4479304e8db003cee3658db7ad938add4ab2ce8d62e559e4de141227124d3b5b1d8d84d3e5e56084ea7804f871b3fde9d
</code></pre>
<h3 id="twox64"><a class="header" href="#twox64">twox64</a></h3>
<pre><code class="language-sh">subalfred hash --hasher twox64 0xb4f7f03bebc56ebe96bc52ea5ed3159d45a0ce3a8d7f082983c33ef133274747
</code></pre>
<pre><code>0x3ab053dc6b6a71e1
</code></pre>
<h3 id="twox64-concat"><a class="header" href="#twox64-concat">twox64-concat</a></h3>
<pre><code class="language-sh">subalfred hash --hasher twox64-concat 0xb4f7f03bebc56ebe96bc52ea5ed3159d45a0ce3a8d7f082983c33ef133274747
</code></pre>
<pre><code>0x3ab053dc6b6a71e1b4f7f03bebc56ebe96bc52ea5ed3159d45a0ce3a8d7f082983c33ef133274747
</code></pre>
<h3 id="twox128"><a class="header" href="#twox128">twox128</a></h3>
<pre><code class="language-sh">subalfred hash --hasher twox128 0xb4f7f03bebc56ebe96bc52ea5ed3159d45a0ce3a8d7f082983c33ef133274747
</code></pre>
<pre><code>0x3ab053dc6b6a71e13f13e44949b8e388
</code></pre>
<h3 id="twox256"><a class="header" href="#twox256">twox256</a></h3>
<pre><code class="language-sh">subalfred hash --hasher twox256 0xb4f7f03bebc56ebe96bc52ea5ed3159d45a0ce3a8d7f082983c33ef133274747
</code></pre>
<pre><code>0x3ab053dc6b6a71e13f13e44949b8e388638838f880a0e3dc18e197b7f8efd6dc
</code></pre>
<h3 id="keccak256"><a class="header" href="#keccak256">keccak256</a></h3>
<pre><code class="language-sh">subalfred hash --hasher keccak256 0xb4f7f03bebc56ebe96bc52ea5ed3159d45a0ce3a8d7f082983c33ef133274747
</code></pre>
<pre><code>0x7774e3a14e4868bd5f3f6bd409685efd0e5179e783ed53d2a5da42c911efb05a
</code></pre>
<h3 id="keccak512"><a class="header" href="#keccak512">keccak512</a></h3>
<pre><code class="language-sh">subalfred hash --hasher keccak512 0xb4f7f03bebc56ebe96bc52ea5ed3159d45a0ce3a8d7f082983c33ef133274747
</code></pre>
<pre><code>0xe7aeb316f9808098e7d71998d4642c784aecbdbbc03061fdcaec6992831bf6ae5abb5673af4f3dec4f4aeed543390ffeda9e0f8900f771f56043128177b1bcea
</code></pre>
<h3 id="sha2-256"><a class="header" href="#sha2-256">sha2-256</a></h3>
<pre><code class="language-sh">subalfred hash --hasher sha2-256 0xb4f7f03bebc56ebe96bc52ea5ed3159d45a0ce3a8d7f082983c33ef133274747
</code></pre>
<pre><code>0x5d0ae9ab625ce7c50e5ced079f414f28161b1b645df49679ebd794fc43c239bc
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="the-key-command"><a class="header" href="#the-key-command">The Key Command</a></h1>
<p>Convert the public key/SS58 address from SS58 address/public key.</p>
<h2 id="examples-8"><a class="header" href="#examples-8">Examples</a></h2>
<h3 id="get-the-public-key"><a class="header" href="#get-the-public-key">Get the Public Key</a></h3>
<pre><code class="language-sh">subalfred key 0xb4f7f03bebc56ebe96bc52ea5ed3159d45a0ce3a8d7f082983c33ef133274747
</code></pre>
<pre><code>public-key 0xb4f7f03bebc56ebe96bc52ea5ed3159d45a0ce3a8d7f082983c33ef133274747
Substrate 5G9z8Ttoo7892VqBHiSWCbnd2aEdH8noJLqZ4HFMzMVNhvgP
</code></pre>
<h3 id="get-the-ss58-address"><a class="header" href="#get-the-ss58-address">Get the SS58 Address</a></h3>
<pre><code class="language-sh">subalfred key 5G9z8Ttoo7892VqBHiSWCbnd2aEdH8noJLqZ4HFMzMVNhvgP
</code></pre>
<pre><code>public-key 0xb4f7f03bebc56ebe96bc52ea5ed3159d45a0ce3a8d7f082983c33ef133274747
Substrate 5G9z8Ttoo7892VqBHiSWCbnd2aEdH8noJLqZ4HFMzMVNhvgP
</code></pre>
<h3 id="get-the-pallet-address"><a class="header" href="#get-the-pallet-address">Get the Pallet Address</a></h3>
<pre><code class="language-sh">subalfred key --type pallet &quot;py/trsry&quot;
</code></pre>
<pre><code>public-key 0x6d6f646c70792f74727372790000000000000000000000000000000000000000 PalletId(py/trsry)
Substrate 5EYCAe5ijiYfyeZ2JJCGq56LmPyNRAKzpG4QkoQkkQNB5e6Z
</code></pre>
<p><a href="https://github.com/hack-ink/subalfred">Subalfred</a> will detect if this is a pallet address automatically.</p>
<pre><code class="language-sh">subalfred key 5EYCAe5ijiYfyeZ2JJCGq56LmPyNRAKzpG4QkoQkkQNB5e6Z
</code></pre>
<pre><code>public-key 0x6d6f646c70792f74727372790000000000000000000000000000000000000000 PalletId(py/trsry)
Substrate 5EYCAe5ijiYfyeZ2JJCGq56LmPyNRAKzpG4QkoQkkQNB5e6Z
</code></pre>
<h3 id="get-the-sovereign-address"><a class="header" href="#get-the-sovereign-address">Get the Sovereign Address</a></h3>
<p>Sovereign address on relaychain.</p>
<pre><code class="language-sh">subalfred key --type parachain 2000
</code></pre>
<pre><code>public-key 0x70617261d0070000000000000000000000000000000000000000000000000000 ParaId(2000)
Substrate 5Ec4AhPUwPeyTFyuhGuBbD224mY85LKLMSqSSo33JYWCazU4
</code></pre>
<p>Sovereign address on sibling chain.</p>
<pre><code class="language-sh">subalfred key --type sibling 2000
</code></pre>
<pre><code>public-key 0x7369626cd0070000000000000000000000000000000000000000000000000000 SiblId(2000)
Substrate 5Eg2fntJ27qsari4FGrGhrMqKFDRnkNSR6UshkZYBGXmSuC8
</code></pre>
<p>Note that, if you are on Moonbeam-link chain, remove 24 trailing zeros from the public-key.</p>
<pre><code class="language-sh">public-key 0x7369626cd0070000000000000000000000000000000000000000000000000000 SiblId(2000)
public-key 0x7369626cd0070000000000000000000000000000 SiblId(2000)
</code></pre>
<p><a href="https://github.com/hack-ink/subalfred">Subalfred</a> will detect if this is a sovereign address automatically.</p>
<pre><code class="language-sh">subalfred key 5Eg2fntJ27qsari4FGrGhrMqKFDRnkNSR6UshkZYBGXmSuC8
</code></pre>
<pre><code>public-key 0x7369626cd0070000000000000000000000000000000000000000000000000000 SiblId(2000)
Substrate 5Eg2fntJ27qsari4FGrGhrMqKFDRnkNSR6UshkZYBGXmSuC8
</code></pre>
<h2 id="options"><a class="header" href="#options">Options</a></h2>
<p>These flags can be applied to any key command.
Also, they could be used with any other flags.</p>
<h3 id="list-all"><a class="header" href="#list-all">List All</a></h3>
<pre><code class="language-sh">subalfred key --list-all 5G9z8Ttoo7892VqBHiSWCbnd2aEdH8noJLqZ4HFMzMVNhvgP
</code></pre>
<pre><code>public-key 0xb4f7f03bebc56ebe96bc52ea5ed3159d45a0ce3a8d7f082983c33ef133274747
BareEd25519           NTG3mn5om1nwD45xx8aUTR3pefA8zEVwfES4dAcw1JMjNgm
BareSecp256k1         5MwePTSDBPzsBZEeCFKXaW43g4NvLKRKVHPgfxtfTD5rzTug
BareSr25519           AswXnhH3BGLd6FA9tNXietCXgNa2cyTZn8AqFt21J7PAnpZ
DICO                  6MpEyNrF2Jk8k9HHFa7mMWiJ8uort9iXNgvzpoKg5m2jonV1
Eggnet                oVRYSJ9KxJzim3FzSpeAMPBJpmQYP6wkEkHz5erKyhFmc3PUL
ICE                   npQjXEEdK3EkZyJp4gUC4jqKg4gdQeHYizXNk6bsFevGx1Dos
KICO                  6G2aiPJqe1sQb5spM3EjycSsVRfZpy61BkNsD7gNcuSFXSgN
SNOW                  ni2MJgjyWScn3yYvNiPtYaAJUhdUb8ZFQvKvLirhz2CDjzTtu
Turing                cU8jCBoMnvw9xNB3HoVoB4bPFwaLQTjVSBxarreqv8m5UubMC
acala                 24xsriZuVo8t2ctLJgHk7mH2M3fDXGe9GF7MNQfjAzTmhcR3
ajuna                 aUtUKdw182tzTyNnVgZijvnDTU9An54EGKajDGD3AM9JHr8Ci
altair                kAMF48Seoe2NLpgBpERuPiUhaBVqPuKM5kG22BGtNkgC5UF25
amplitude             6kxt1M1rZUF3NNu8shdrs7mzirP36tEc8T9XHXtswBQgvnbM
apex                  rzg96q3EEBeHKBq4PoA9jZo3RGoqMuGNUzGTXt9NHs3zsKZNg
ares                  4Tri4XZain8Kn2bU3TQKBPfDrh6GqfkdnpQW8p6xHWjUTQsr
astar                 a2aZkrtaLmFFKs1n1tdEFwu7cwkFMVYKYLhHzTDriVLJ5GZ
aventus               cLx3haNNmFzBd7wutbATTsiEfQe3EWY9xcEhQZSYEoCGNeAUs
bajun                 bUMvGXNsMQUm7wBohPESRRqQDjdY9gcv4yMpqduUb3fo9xRzt
basilisk              bXkghK7H4UNVqFBZUBLMEGUSfi8Q9YrKmPLfJZ9Lpnk1jXLSg
bifrost               fpEpkQHxddyQPGUgYmecADKm763JY84WUtpug6XKa5paJMM
calamari              dmy2WdnrD23rM4nVrA8PE3TWD8M1tB231YoceS7ck2cz4nvbM
centrifuge            4fS2aWePVMsn69QPrXAMwCC59fNrx31gAhWmNBPZDDvT24fC
cere                  6TbuENPeQbcruCgkA6znjQyinPx9wLM3ZdV8SUxyYcdE61cs
cess                  ce7TA31W7N2cdz3VgNjmYphyka6dox4TV41yzP1A2SGYF3pYk
cess-testnet          cXj4wVWrJmQe7zHbzQfU2f2xZD3UzSLAAypXb1FzkoYV32xMV
chainflip             cFMxm6p4BjhCvNfFusMC8jFLsDU2mSGtp3Zg47AXNsJy4tDoM
chainx                5TjJeSycZgsbLce76nCYxQKUKYXDPW3qgDwpHeXxv4gMGnqJ
clover                jHGBKnVSNs4aCrd4JVqVEP6Y1H4cqoUxbAgNoBKcDgskRNmg8
composable            64TGCQE2sS7xGy4tXyUhDov2CTNyibpxosGbykPmhCFGxk6n
contextfree           a7SDW4dbSQLxCPkokx6adk336WpRZGerMmMcyzFmRoJTTLqrd
cord                  3xvQmZrZoKkgzja9Wo1CHtL6dGNoZkc2r7dr4PtSyEm342uB
crust                 cTLRv7s2ZrcA97hoaZEkz3PFrmhC42GTGgS9owBhWRvKaexfe
dark                  2mUVffMjBqFy82iaeQSum58zsSfGuZ3napzGgCAqQydBg7vY
darwinia              2sG9veu8a88hH683YwKw8yQRWvoZxjgJmmYQHsp8sqDfxHHW
datahighway           4N53oY2BLVFbcyC18vXHoVPoDCwynV87bsrNX8Tepf8zBJfV
dentnet               dx9Knzz5LDj4UzmmAYS7eZNdZ3qbsmiG6nk83BqDTFqdoVwGm
dock-pos-mainnet      3GQnxd4k7HdbuKjuB4r2eaU86sNkBUCPXXkvkcPLjFbd5YU5
edgeware              mbu5jwhLvWhZSfwb5efz4UkQbELMikahRSxXMjpnRgJrcEc
efinity               efTEt1iEFLB9Pf5FDWrKUtSjUciocVawat9UPtoU6wqog1dGD
equilibrium           cg7CMCrLB3r7B7DaxVPN2NjJFVoVh3j3tpq4cgg23hNRzgFAa
fragnova              fRkmknCdFyMU718sBfEv2YYp9aAJArxWgdmSh4H1nXVpAy4qJ
geek                  XWGZATcKd9Zw3mpuxmVoefp8KNhn57zuozNL4ukSHKrciyPew
genshiro              cZip8fMgNTE8f7ThGXK4WD4H48kLsXzkakdcDJvrn4eNnfXNT
gm                    gMY6J6wTa8AssBmvDrD5q5GABvhNfSjuEJk3Tfgf56PJzfGj3
heiko                 hJKHS1bhv7u2tw11u6W3sNzAUk5t6aMays8BYRvjNHpkhAqHG
hydradx               7MgqZJGGsDVQJjKvJtv18XNYbmEoRz1jG6UJydkgiJyccwqp
integritee            2NKrdhC7efm4Vo6j2GvpFU5JHW66gpXhq4mkDTbdZZFEYdqE
integritee-incognito  hdUS5e5fKukxSvGgxzixRt1E4qFLZ7YUv5iYkZADBBzvKCfaw
interlay              wdBbAQmEBQZqDUnhj7sUehkhvTYeebSo8bPErUT1Wr572f6YH
joystream             j4VQthW8mfpdAs7GvZgtC3kVcYxKCn2My2HTzRqHgRRe1MgG8
jupiter               3fZRzbEMeT8WXZMkoCN8ABXpgowvQCiUHHyTDLxYafyaCmYh
kabocha               3mM6Famm2k1EgcmDhjF9Y5oFLJ6DTPLzUEXaq2br3Xa4VG9o
kapex                 tsY1kqQw6V4UHasRVx1veXwC2PBrAnDLLnSrn6r1n1wirN28x
karura                sPZLjV6jDPRiW5QVcXhMxkB45NdQuP6tN1693P8FHGo8zCJ
katalchain            UEvJmKVC3tX6GTYsV1brMgUU8oTCAs28bnZgJovPrtr1t9S
kilt                  4s1M6VjCFwdEQGDKfavQgzivSdfT4QGiYad2bYgA8w7RauZQ
kintsugi              a3eJSEw27oHiaTXS8Xs9jPnvwxNzPBgvabcZzcHKzCorveaqE
kulupu                2fgqQfpKoYPExyK7jsZtPAsaDxWyrNRGPtS94WXXx82hPqRq
kusama                GfbnnEgRU94n9ed4RFZ6Z9dBAWs5obykigJSwXKU9hsT2uU
laminar               2AkY7i7Jt61cBgHoDDAmVfYSzXoWaTGfTBfUz6K2dr4FyzaL
litentry              4AVjHYwNZuW9JrP5KrmF3grwvEfPg7s5Dzk7HmB3twx1cPDT
litmus                jcRKyQyPnevVkqtjNQ4Pnt7bbNE5JLfrXPGk1JZ62b3v3R4u2
manta                 dfaeJ6JCQRRsq52cAC45hsnV1mHs4fHjhUcAF4NTUPtvrnT4s
mathchain             4xo1MVGbeEVxZKcna7oS4tzM67ok7auEjXBADEKTbnhurwn7
mathchain-testnet     54afcUp12XNgiP2FUegTSoFmjbx3AmXkvTjHpuxm4eJQ9WvS
moonbeam              VducokCKmmc7iA5aB9JRrbBJqVkUjWy6Z8thUmU1JVEsBLJ47
moonriver             VkJ12HgyaNE6E9qTs7NjNkrL2rodZ2hPsD69t9DAa7xvPM3Ah
neatcoin              5rswgR9E6rNVxrFxiuieU1PAuV6PcEZvRzALkP7AmV4JPvtN
nftmart               nmv42mS6ERxtQ4qhU3ACUJJg3uZ44GhoiH1XTiWnj5YQky5bG
nodle                 4mDgqWBnsekWFCorm43PK6TVo9XA1DeCMe4tys2rg5WwJUjp
oak                   6AEvTPmSFizgS2UMSWMibiBSqwXGmnTUzopjbS35A3qmF5bR
origintrail-parachain gJqqV89qgkKGEyBzhPqLBsvyiUbWixnuBDM5v4EHwbJFq4Z7Z
p3d                   d1GLzqLHaqi2j6VG2PcGaskMqaxx9auwq3RRpouVrbYbciRnp
p3dt                  d7ejDNpwPSL1F6F9iMga73RP2x26y6eF97ctEBef8EGepiwZK
parallel              p8F2qgE7j8MSxfvGd36n7ihSdFTJtMa6JMNQXg4e5YnBXtbnX
peaq                  rtHktHYaRb2JoC5Ahq5rDQ82DukgYPY5Av518WQD2EKwfJtzL
pendulum              6fBDkMUTBBNKDKVfyAkqVDWa5NEk3hc5wWbPfrFaUKpCeWGr
phala                 44i52ZPyBcdR9nycRKtDfnbXGkX6cwEZ34Byg5XkS6MXL68i
picasso               5xfbwQgdV9FE7ufRdSbfquebYyEgfRCScviUN4kUELengQY6
pioneer_network       WWbXu4BNb1QQwVu5qFmKvQxQhpF87Q4xxxi8BJgiFhcvtJhmy
poli                  5ANKsUMQQpFQsSRiPBZUphXCP66LDxAH7QHRSbc4XVttRfvK
polkadex              esprg4jNEzFbX2MQjpsQRiBiAktY5JK28GnAgBZDSMsY8uq69
polkadexparachain     ezDEtcE23asa327JRnwhwsrjN7wgtp3KSLyd5ZJNhzbbLvKwY
polkadot              156HGo9setPcU2qhFMVWLkcmtCEGySLwNqa3DaEiYSWtte4Y
polkafoundry          g65543AY5Z5KCygDKTgj9YawKkVD5wLJZ4xB7JjyQKr9R3Dz3
polkasmith            fyggqVftGxTLgyvKdVcRdNuv8PS4GRc1Ezkihvzp8h86D2Yxp
polymesh              2GYCNheiGNtLLjhG7k3nsZose1wodduBe8DcbmxL6hekGSn8
pontem-network        gkPNMJ8Su8oAJxDZTG8YGYd4Vvp811i6RW8uXZCw28CUf7N6c
quartz_mainnet        yGGpnkEDQfqKtKjEpHFrHZY9tNxvsu6sAMmBynpuT6xmis9QJ
reserved46            5fJdAS4RLGd3ejT2uqxbiCrKcWooVsJt4745X1pZqmsKqDd7
reserved47            5m6HRRbpiZVmonrVpNqd677kFzx6Z3wQF3cD8hTsJdTp7q5Q
reynolds              yBDbj2W7WG9sZUsQ9Qijs1bhZWvU61d5JZDkj2Ri8sHRFbo
robonomics            4GHPYYUmxCNsTunYEPeGRb8NZiogjJVbQwJEuSpMMoYVtpSv
sapphire_mainnet      pxLUnGR64Nb1HxDGDbioZj3dSmLEcoubBGjRpDWdCivnZYW8r
shift                 3NCTDcc9VaWL4P9N5bj42UjYkMX3EepuiUK4NJ2eC7C7MwEw
social-network        xw7g97kFzsyQLLTZkP2wj4X6JHoURMuyE9ApmfbReCnc6q2BN
sora                  cnVaZkLyyeU5h6yUeTTfYYQKSrreWZTMCu2X24RBKL6VCh161
sora_kusama_para      oFFkmbGShjgXYrvYaD3EymDYUzWEdJvLKxjKSHo1DwqLN5eiM
stafi                 34qUSdywLht9bCvyN15ytmwGou6A56wM9eefXF6joYQeWpZG
subsocial             3s8kWaKAR2sxqgAgcG8Auz4fynEWWZyWfB5iSiF9WPAYmTxu
subspace              sufAN5qjKG8hG7zsijsHM5JG4TTmW3ais9idFa5sAj6jnm9Cg
subspace_testnet      stAMUCxcGVmaMn7om9t5zQnGgmBd6DqH4KcKHLqDenGpUYRFG
substrate             5G9z8Ttoo7892VqBHiSWCbnd2aEdH8noJLqZ4HFMzMVNhvgP
synesthesia           2ZuB9gGvRFWWouueqLgs1Gc9aUNgoBnkCwt1SptEVGSD7FJ6
tidefi                fhDnzqyYkYT2mDEa63mGi5E31kNTkNN7MsZK3RDhTJ2ykbHKr
tinker                i51xwp4GYJErWuJFis2AWYhJrHTwqATgANWNN48rFiu99FPRH
totem                 2U7WtgjX2xdnerWBvooqdNLivzEPk1AE21Ksq9Ew2Qqiq2f9
uniarts               5ZWxuSX1wykKVg3a1K5aLJaty2fWSggMsAVwuLBGNvGqZAkM
unique_mainnet        unicLcCWzL8dgqA3khnpJoEwWrp4u2twmKn8m29oFohekNWVg
vln                   4ZeNKX6z7513w5zvwzHLZHveWBEZtrP9ykxdkVkFkNKxjh7r
xxnetwork             6ZPZVMw3ntVb4G6D4dsp7KF9Rt6SzWyZka3G4AcH1UDiNL2o
zeitgeist             dE37RvKbC2wym613QKksdD6QEK5FncNYTBpLdZPpPrzi2jYtt
zero                  3Tz7Uc9YssP4DSYpz8c5QNzyPqfLHqTRuQsByyfwexnbeM1M
zero-alphaville       3ZmmjbgxGAFnNVxHtfV6nHGQ3KodM25x6MRKbfKF7pP5vUpv
</code></pre>
<h3 id="network"><a class="header" href="#network">Network</a></h3>
<p>The network parameter is case <a href="https://github.com/paritytech/ss58-registry/pull/106">insensitive</a>.</p>
<pre><code class="language-sh">subalfred key --network polkadot 5G9z8Ttoo7892VqBHiSWCbnd2aEdH8noJLqZ4HFMzMVNhvgP
</code></pre>
<pre><code>public-key 0xb4f7f03bebc56ebe96bc52ea5ed3159d45a0ce3a8d7f082983c33ef133274747
polkadot 156HGo9setPcU2qhFMVWLkcmtCEGySLwNqa3DaEiYSWtte4Y
</code></pre>
<h3 id="show-prefix"><a class="header" href="#show-prefix">Show Prefix</a></h3>
<pre><code class="language-sh">subalfred key --show-prefix 5G9z8Ttoo7892VqBHiSWCbnd2aEdH8noJLqZ4HFMzMVNhvgP
</code></pre>
<pre><code>public-key 0xb4f7f03bebc56ebe96bc52ea5ed3159d45a0ce3a8d7f082983c33ef133274747
Substrate 42 5G9z8Ttoo7892VqBHiSWCbnd2aEdH8noJLqZ4HFMzMVNhvgP
</code></pre>
<h3 id="type"><a class="header" href="#type">Type</a></h3>
<p>See <a href="user/cli/key.html#get-the-pallet-address">Get the Pallet Address</a> and <a href="user/cli/key.html#get-the-sovereign-address">Get the Sovereign Address</a> sections.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="the-state-command"><a class="header" href="#the-state-command">The State Command</a></h1>
<p>Provides a series of useful state operations.</p>
<h2 id="diff"><a class="header" href="#diff">Diff</a></h2>
<p>Get the differences between the two given states.</p>
<p>In fact, it accepts two chain spec files. So, make sure JSON file contains the <code>object[&quot;genesis&quot;][&quot;raw&quot;][&quot;top]</code> field.</p>
<p>Note that, this is not a symmetric diff.
<code>a.diff(b)</code> may equals to <code>b.diff(a)</code>, but not always.</p>
<h3 id="examples-9"><a class="header" href="#examples-9">Examples</a></h3>
<pre><code class="language-sh">subalfred state diff a.json b.json
</code></pre>
<pre><code class="language-diff">-0xbd2a529379475088d3e29a918cd47872878d434d6125b40443fe11fd292d13a4:0x03000000
-0x4d45a146e2a002ba470f48b9ed9a3e23878d434d6125b40443fe11fd292d13a4:0x02000200
-0xcebf674407db61a30e8759ec5084b7764e7b9012096b41c4eb3aaf947f6ea429:0x0000
-0x2f85f1e1378cb2d7b83adbaf0b5869c24e7b9012096b41c4eb3aaf947f6ea429:0x0000
-0x4a0fb74e77bb0a3a5a6c24785f9805fe878d434d6125b40443fe11fd292d13a4:0x02000500
-0x2aa79c02f5980c623c5a8c28e06320c4878d434d6125b40443fe11fd292d13a4:0x02000200
</code></pre>
<pre><code class="language-sh">subalfred state diff b.json a.json
</code></pre>
<pre><code class="language-diff">+0xbd2a529379475088d3e29a918cd47872878d434d6125b40443fe11fd292d13a4:0x03000000
+0x4d45a146e2a002ba470f48b9ed9a3e23878d434d6125b40443fe11fd292d13a4:0x02000200
+0xcebf674407db61a30e8759ec5084b7764e7b9012096b41c4eb3aaf947f6ea429:0x0000
+0x2f85f1e1378cb2d7b83adbaf0b5869c24e7b9012096b41c4eb3aaf947f6ea429:0x0000
+0x4a0fb74e77bb0a3a5a6c24785f9805fe878d434d6125b40443fe11fd292d13a4:0x02000500
+0x2aa79c02f5980c623c5a8c28e06320c4878d434d6125b40443fe11fd292d13a4:0x02000200
</code></pre>
<h2 id="export"><a class="header" href="#export">Export</a></h2>
<p>Export the chain state from a live chain.</p>
<p>The result will be stored at <code>&lt;a&gt;.export</code>.</p>
<h3 id="examples-10"><a class="header" href="#examples-10">Examples</a></h3>
<p>For convenience, I use the <a href="https://github.com/darwinia-network">Darwinia Network</a> to demonstrate.</p>
<p>Here is a most common way to use this command.
To build a fork-off chain:</p>
<pre><code class="language-sh"># If you want to renew the consensus you need to provide a genesis to override the exported consensus state.
# Otherwise, you can not get the old validators online. And the new chain will be bricked.
darwinia build-spec --raw &gt; darwinia-dev.json
# `--simple-governance` will simplify the the governance state for more detail check the `--help`.
# If some pallets state are too large, you could skip them with this flag: `--skip-pallets System,Staking,Scheduler`.
subalfred state export wss://rpc.darwinia.network --renew-consensus-with darwinia-dev.json --simple-governance --disable-default-bootnodes -lsubalfred_core::node,subalfred_core::substrate_client
</code></pre>
<pre><code class="language-log">2022-08-27T17:30:15.077768Z TRACE subalfred_core::substrate_client: fetched 512 keys
2022-08-27T17:30:15.103602Z TRACE subalfred_core::substrate_client: fetched 1024 keys
...
 fully exported 152674 pairs, takes 7s
</code></pre>
<p>To run the fork-off chain:</p>
<pre><code class="language-sh">darwinia --chain darwinia-dev.json.export --alice --tmp
</code></pre>
<pre><code class="language-log">2022-08-25 15:31:45   _____                      _       _
2022-08-25 15:31:45  |  __ \                    (_)     (_)
2022-08-25 15:31:45  | |  | | __ _ _ ____      ___ _ __  _  __ _
2022-08-25 15:31:45  | |  | |/ _` | '__\ \ /\ / / | '_ \| |/ _` |
2022-08-25 15:31:45  | |__| | (_| | |   \ V  V /| | | | | | (_| |
2022-08-25 15:31:45  |_____/ \__,_|_|    \_/\_/ |_|_| |_|_|\__,_|
2022-08-25 15:31:45 Darwinia
2022-08-25 15:31:45   version 0.12.3-2-unknown-x86_64-linux-gnu
2022-08-25 15:31:45   by Darwinia Network &lt;hello@darwinia.network&gt;, 2018-2022
2022-08-25 15:31:45  Chain specification: Darwinia Development Testnet-export
2022-08-25 15:31:45  Node name: Alice
2022-08-25 15:31:45  Role: AUTHORITY
2022-08-25 15:31:45  Database: RocksDb at /tmp/substrateVfPtI4/chains/darwinia_dev-export/db/full
2022-08-25 15:31:45   Native runtime: Darwinia-1232 (Darwinia-0.tx0.au0)
2022-08-25 15:32:15  Initializing Genesis block/state (state: 0xfff25f26, header-hash: 0xa524c2b5)
2022-08-25 15:32:15  Loading GRANDPA authority set from genesis on what appears to be first startup.
2022-08-25 15:32:16   Loaded block-time = 6s from block 0xa524d767208b0142b2e2515f072add8391eb8d46359592f385585b453034c2b5
2022-08-25 15:32:16  Creating empty BABE epoch changes on what appears to be first startup.
2022-08-25 15:32:16  Local node identity is: 12D3KooWBZ5yN77nLrmca1E7Fu1DpgXR5Y9VK3xupwPsWQHDBcdQ
2022-08-25 15:32:16 DVM mapping worker starts syncing from 0
2022-08-25 15:32:16  Highest known block at #0
2022-08-25 15:32:16  Prometheus exporter started at 127.0.0.1:9615
2022-08-25 15:32:16 Listening for new connections on 0.0.0.0:9944.
2022-08-25 15:32:16  Starting BABE Authorship worker
2022-08-25 15:32:18  Starting consensus session on top of parent 0xa524d767208b0142b2e2515f072add8391eb8d46359592f385585b453034c2b5
2022-08-25 15:32:18  Prepared block for proposing at 1 [hash: 0x7b730198ec586071afc14498afa6c1a1f94353db0008e427758adb6353a05690; parent_hash: 0xa524c2b5; extrinsics (1): [0x60ef54c4]]
2022-08-25 15:32:18  Pre-sealed block for proposal at 1. Hash now 0x9a763a5d33bd5bbb7fb37cb5fab5c8ec4f7c05f9e6cc4c1710a6d5076973c3e9, previously 0x7b730198ec586071afc14498afa6c1a1f94353db0008e427758adb6353a05690.
2022-08-25 15:32:18  New epoch 0 launching at block 0x9a76c3e9 (block slot 276902123 &gt;= start slot 276902123).
2022-08-25 15:32:18  Next epoch starts at slot 276904523
2022-08-25 15:32:18  Imported #1 (0x9a76c3e9)
2022-08-25 15:32:21  Idle (0 peers), best: #1 (0x9a76c3e9), finalized #0 (0xa524c2b5),  0  0
2022-08-25 15:32:24  Starting consensus session on top of parent 0x9a763a5d33bd5bbb7fb37cb5fab5c8ec4f7c05f9e6cc4c1710a6d5076973c3e9
2022-08-25 15:32:24  Prepared block for proposing at 2 [hash: 0xfe20a319a55f621fcb5c0a7a93679931a3e729a90836cac71ac47e23475db69a; parent_hash: 0x9a76c3e9; extrinsics (1): [0xcb64465b]]
2022-08-25 15:32:24  Pre-sealed block for proposal at 2. Hash now 0x60275c406bd17b9c2ea4fd25a459db4fd5e3d0b46e5f4134789927b8cbe4c86e, previously 0xfe20a319a55f621fcb5c0a7a93679931a3e729a90836cac71ac47e23475db69a.
2022-08-25 15:32:24  Imported #2 (0x6027c86e)
2022-08-25 15:32:26  Idle (0 peers), best: #2 (0x6027c86e), finalized #0 (0xa524c2b5),  14 B/s  0
2022-08-25 15:32:30  Starting consensus session on top of parent 0x60275c406bd17b9c2ea4fd25a459db4fd5e3d0b46e5f4134789927b8cbe4c86e
2022-08-25 15:32:30  Prepared block for proposing at 3 [hash: 0x47a99410fa4b2414e1a50198ecd6f7ba191e3089942f29a3144bd0f37d48af53; parent_hash: 0x6027c86e; extrinsics (1): [0xa8201274]]
2022-08-25 15:32:30  Pre-sealed block for proposal at 3. Hash now 0xf6e17b2a54364b18007d3bba082a4a68ddc04ad30d64cd6cab24b0b7c25f91a1, previously 0x47a99410fa4b2414e1a50198ecd6f7ba191e3089942f29a3144bd0f37d48af53.
2022-08-25 15:32:30  Imported #3 (0xf6e191a1)
2022-08-25 15:32:31  Idle (0 peers), best: #3 (0xf6e191a1), finalized #0 (0xa524c2b5),  0  0
2022-08-25 15:32:36  Starting consensus session on top of parent 0xf6e17b2a54364b18007d3bba082a4a68ddc04ad30d64cd6cab24b0b7c25f91a1
2022-08-25 15:32:36  Prepared block for proposing at 4 [hash: 0x41065d03a825b9ab3a11281d5521c4e8d623804b28fab3931fc55af081d488bf; parent_hash: 0xf6e191a1; extrinsics (1): [0x5cfc5083]]
2022-08-25 15:32:36  Pre-sealed block for proposal at 4. Hash now 0xfd60895534f8ac72e73aa387b87264455ae06e6e484a7a3f50e4b1700798b2f2, previously 0x41065d03a825b9ab3a11281d5521c4e8d623804b28fab3931fc55af081d488bf.
2022-08-25 15:32:36  Imported #4 (0xfd60b2f2)
2022-08-25 15:32:36  Idle (0 peers), best: #4 (0xfd60b2f2), finalized #1 (0x9a76c3e9),  0  0
2022-08-25 15:32:41  Idle (0 peers), best: #4 (0xfd60b2f2), finalized #2 (0x6027c86e),  14 B/s  0
</code></pre>
<p>With the <code>--simple-governance</code> flag, you could perform a runtime upgrade test through sudo or council locally.</p>
<p>It's a really useful testing tool.</p>
<h2 id="fork-off"><a class="header" href="#fork-off">Fork-Off</a></h2>
<p>This is very similar to the <code>export</code> command. But this command can build a fork-off chain even offline.</p>
<p>The result will be stored at <code>&lt;a&gt;.fork-off</code>.</p>
<p>Sometimes, you have already running a node yourself.
So, you don't want to fetch the state from a live chain, which is slow.
Then you could use this command.</p>
<h3 id="examples-11"><a class="header" href="#examples-11">Examples</a></h3>
<p>For convenience, I use the <a href="https://github.com/darwinia-network">Darwinia Network</a> to demonstrate.</p>
<p>Here is a most common way to use this command.
To build a fork-off chain:</p>
<pre><code class="language-sh">darwinia build-spec --raw &gt; darwinia-dev.json
# Export the state from your node.
darwinia export-state -d &lt;PATH TO DATA&gt; --chain &lt;CHAIN&gt; &lt;BLOCK NUMBER&gt; &gt; darwinia-node-export.json
subalfred state fork-off darwinia-node-export.json --renew-consensus-with darwinia-dev.json --simple-governance --disable-default-bootnodes
</code></pre>
<p>To run the fork-off chain:</p>
<pre><code class="language-sh">darwinia --chain darwinia-node-export.json.fork-off --alice --tmp
</code></pre>
<p>But there is an issue that we build the fork-off chain in this way.
The block can not be finalized. After some searching I found some well-known keys were dumped.
There some GRANDPA round state old data. Check this <a href="https://substrate.stackexchange.com/questions/4359/where-the-grandpa-round-state-stored-at">question</a>. I'll fix this once I get the well-known keys.</p>
<h2 id="override"><a class="header" href="#override">Override</a></h2>
<p>Override state a with b.</p>
<p>In fact, it accepts two chain spec files. So, make sure JSON file contains the <code>object[&quot;genesis&quot;][&quot;raw&quot;][&quot;top]</code> field.</p>
<p>The result will be stored at <code>&lt;a&gt;.override</code>.</p>
<h3 id="examples-12"><a class="header" href="#examples-12">Examples</a></h3>
<pre><code class="language-sh">subalfred state override a.json b.json
# You could check this command's output. It should be empty.
subalfred state diff a.json.override b.json
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="the-storage-key-command"><a class="header" href="#the-storage-key-command">The Storage Key Command</a></h1>
<p>Calculate the storage key for the storage prefix/item quickly.</p>
<h2 id="examples-13"><a class="header" href="#examples-13">Examples</a></h2>
<pre><code class="language-sh">subalfred storage-key --prefix System --item Number
</code></pre>
<pre><code>0x26aa394eea5630e07c48ae0c9558cef702a5c1b19ab7a04f536c519aca4983ac
</code></pre>
<p>Actually, it equals to <code>twox128(prefix) + twox128(item)</code>.</p>
<pre><code class="language-sh">subalfred convert ascii2hex System
</code></pre>
<pre><code>0x53797374656d
</code></pre>
<pre><code class="language-sh">subalfred hash --hasher twox128 0x53797374656d
</code></pre>
<pre><code>0x26aa394eea5630e07c48ae0c9558cef7
</code></pre>
<pre><code class="language-sh">subalfred convert ascii2hex Number
</code></pre>
<pre><code>0x4e756d626572
</code></pre>
<pre><code class="language-sh">subalfred hash --hasher twox128 0x4e756d626572
</code></pre>
<pre><code>0x02a5c1b19ab7a04f536c519aca4983ac
</code></pre>
<pre><code>0x26aa394eea5630e07c48ae0c9558cef7 + 0x02a5c1b19ab7a04f536c519aca4983ac
0x26aa394eea5630e07c48ae0c9558cef702a5c1b19ab7a04f536c519aca4983ac
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="the-workspace-command"><a class="header" href="#the-workspace-command">The Workspace Command</a></h1>
<p>This is a release helper.</p>
<p>Currently, there is only one command.</p>
<h2 id="update"><a class="header" href="#update">Update</a></h2>
<p>Update the workspace members version to the given one.
If <code>--manifest-path</code> is missing, it will read the current folder's <code>Cargo.toml</code> as the root manifest.</p>
<h3 id="examples-14"><a class="header" href="#examples-14">Examples</a></h3>
<pre><code class="language-sh">subalfred workspace update v0.9.1
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
    </body>
</html>
